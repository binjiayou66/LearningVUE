<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>001-Render函数</title>
</head>
<body>
	<div id="app">
        <my-component-1></my-component-1>
	</div>
	<script type="text/javascript" src="../js/vue2.6.6.min.js"></script>
    <script type="text/javascript">
        // Render函数
        /*
            createElement(
                // String | Object | Function 
                //一个 HTML 标签，组件选项，或一个函数 
                //必须 Return 上述其中一个
                'div',
                // Object
                // 一个对应属性的数据对象，可选 
                //您可以在 template 中使用
                {
                    //和 v-bind:class 一样的 API
                    'class' : { 
                        foo: true,
                        bar: false
                    },
                    //和 v-bind:style 一样的 API
                    style : {
                        color: 'red',
                    },
                    //正常的 HTML特性
                    attrs: {
                        id : 'foo'
                    },
                    //组件 props
                    props: {
                        myProp: 'bar'
                    },
                    // DOM属性 
                    domProps: {
                        innerHTML : 'baz'
                    },
                    //自定义事件监听器”on”
                    //不支持如 v-on :keyup.enter 的修饰器 
                    //需要手动匹配 keyCode
                    on: {
                        click : this.clickHandler
                    },
                    //仅对于组件，用于监听原生事件 
                    //而不是组件使用 vm. $emit 触发的自定义事件 
                    nativeOn: {
                        click: this.nativeClickHandler
                    },
                    //自定义指令
                    directives: [
                        {
                            name : 'my-custom -directive',
                            value : '2',
                            expression : '1 + 1' 
                            arg: 'foo', 
                            modifiers : {
                                bar: true
                            }
                        }
                    ],
                    // 作用域 slot
                    // { name: props => VNode | Array<VNode> } 
                    scopedSlots: {
                        default: props => h ('span', props .text)
                    }
                }
                // String | Array 
                //子节点( VNodes )，可选
                [
                    createElement('hl', 'hello world'), 
                    createElement(MyComponent, {
                        props : {
                            someProp: 'foo'
                        }
                    }), 
                    'bar'
                ]
            );
        */
        Vue.component('my-component-1', {
            render: function (createElement) {
                var _this = this;
                return createElement('input', {
                    attrs: {
                        placeholder: '占位符'
                    },
                    style: {
                        width: '200px'
                    },
                    on: {
                        keyup: function (event) {
                            if (event.keyCode === 13) {
                                _this.test();
                            }
                        }
                    }
                });
            },
            methods: {
                test: function () {
                    alert(event.target.value);
                }
            }
        });
		var app = new Vue({
            el: "#app"
		});
	</script>
</body>
</html>